(this["webpackJsonpnconnect-web"]=this["webpackJsonpnconnect-web"]||[]).push([[0],{104:function(e,n,t){},148:function(e,n,t){},162:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(9),i=t.n(o),l=(t(103),t(104),t(56)),s=t(21),c=t(74),d={en:{translation:t(75)},"zh-CN":{translation:t(76)}};l.a.use(c.a).use(s.e).init({resources:d,fallbackLng:"en",interpolation:{escapeValue:!1}});var u=l.a,p=t(11),m=t.n(p),h=t(16),b=t(79),k=t(80),f=t(22),v=t(88),g=t(89),E=t(81),y=t.n(E),L=t(208),A=t(214),w=t(198),P=t(210),C=t(205),M=t(206),O=t(204),S=t(163),I=t(215),T=t(212),j=t(209),x=t(57),N=t(211),D=t(207),R=t(82),K=t.n(R);var Q="/rpc/admin",_={getAdminToken:{method:"getAdminToken"},getAddrs:{method:"getAddrs"},setAddrs:{method:"setAddrs"},addAddrs:{method:"addAddrs"},removeAddrs:{method:"removeAddrs"},getLocalIP:{method:"getLocalIP"},getInfo:{method:"getInfo"}},J={},F=function(e){_.hasOwnProperty(e)&&(J[e]=function(n,t){return t=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];for(var r=0,o=t;r<o.length;r++){var i=o[r];if(i)for(var l=0,s=Object.keys(i);l<s.length;l++){var c=s[l];void 0!==i[c]&&(e[c]=i[c])}}return e}({},_[e].defaultParams,t),function(e,n){return z.apply(this,arguments)}(n,_[e].method,t)})};for(var H in _)F(H);function z(){return(z=Object(h.a)(m.a.mark((function e(n,t){var a,r,o,i,l=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>2&&void 0!==l[2]?l[2]:{},e.prev=1,e.next=4,window.rpcHeaders;case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Await rpc headers error:",e.t0);case 10:return e.next=12,K()({url:n,method:"POST",timeout:1e4,headers:r,data:{id:"nConnect-web",jsonrpc:"2.0",method:t,params:a}});case 12:if(o=e.sent,!(i=o.data).error){e.next=16;break}throw i.error;case 16:if(void 0===i.result){e.next=18;break}return e.abrupt("return",i.result);case 18:throw new Error("rpc response contains no result or error field");case 19:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function B(){return U.apply(this,arguments)}function U(){return(U=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.getAdminToken(Q));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.getAddrs(Q));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,n){return G.apply(this,arguments)}function G(){return(G=Object(h.a)(m.a.mark((function e(n,t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},n&&(a.acceptAddrs=n),t&&(a.adminAddrs=t),e.abrupt("return",J.setAddrs(Q,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.getInfo(Q));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t(148);var X=function(e){Object(g.a)(t,e);var n=Object(v.a)(t);function t(e){var a;Object(b.a)(this,t),(a=n.call(this,e)).state={activeTab:"0",adminTokenStr:"",adminTokenQRCode:"",acceptAddrs:"",adminAddrs:"",addr:"",localIP:[],language:""};for(var r=0;r<u.languages.length;r++)if(d[u.languages[r]]){a.state.language=u.languages[r];break}return a.handleTabChange=a.handleTabChange.bind(Object(f.a)(a)),a.handleAcceptAddrsChange=a.handleAcceptAddrsChange.bind(Object(f.a)(a)),a.handleAdminAddrsChange=a.handleAdminAddrsChange.bind(Object(f.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),a.updateAdminToken=a.updateAdminToken.bind(Object(f.a)(a)),a.handleLanguageChange=a.handleLanguageChange.bind(Object(f.a)(a)),a}return Object(k.a)(t,[{key:"handleTabChange",value:function(e,n){this.setState({activeTab:n}),"4"===n&&this.updateAdvancedInfo()}},{key:"handleAcceptAddrsChange",value:function(e){this.setState({acceptAddrs:e.target.value})}},{key:"handleAdminAddrsChange",value:function(e){this.setState({adminAddrs:e.target.value})}},{key:"handleLanguageChange",value:function(e){this.setState({language:e.target.value}),u.changeLanguage(e.target.value)}},{key:"handleSubmit",value:function(){var e=Object(h.a)(m.a.mark((function e(n){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,q(Z(this.state.acceptAddrs),Z(this.state.adminAddrs));case 4:t=e.sent,this.setState({acceptAddrs:Y(t.acceptAddrs),adminAddrs:Y(t.adminAddrs)}),alert(this.props.t("save success")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),alert(e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(n){return e.apply(this,arguments)}}()},{key:"updateAdminToken",value:function(){var e=Object(h.a)(m.a.mark((function e(){var n,t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B();case 3:if(!(n=e.sent)){e.next=10;break}return t=JSON.stringify(n),e.next=8,y.a.toDataURL(t);case 8:a=e.sent,this.setState({adminTokenStr:t,adminTokenQRCode:a});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateAdvancedInfo",value:function(){var e=this;this.updateAdminToken(),function(){return V.apply(this,arguments)}().then((function(n){e.setState({acceptAddrs:Y(n.acceptAddrs),adminAddrs:Y(n.adminAddrs)})})).catch((function(e){console.error(e),alert(e)})),function(){return W.apply(this,arguments)}().then((function(n){e.setState({addr:n.addr,localIP:n.localIP.ipv4})})).catch((function(e){console.error(e)}))}},{key:"componentDidMount",value:function(){this.updateAdvancedInfo(),setInterval(this.updateAdminToken,3e5)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w.a,null,r.a.createElement("div",{className:"language-switcher"},r.a.createElement(P.a,{value:this.state.language,onChange:this.handleLanguageChange},Object.keys(d).map((function(e){return r.a.createElement(C.a,{key:e,value:e},u.getFixedT(e)("language"))})))),r.a.createElement("div",{className:"row"},r.a.createElement("img",{src:"/static/media/nkn_logo.png",alt:"NKN logo"})),r.a.createElement(x.a,{value:this.state.activeTab},r.a.createElement(N.a,{centered:!0,onChange:this.handleTabChange},r.a.createElement(M.a,{label:this.props.t("mobile tab"),value:"0"}),r.a.createElement(M.a,{label:this.props.t("desktop tab"),value:"1"}),r.a.createElement(M.a,{label:this.props.t("data plan tab"),value:"2"}),r.a.createElement(M.a,{label:this.props.t("need help tab"),value:"3"}),r.a.createElement(M.a,{label:this.props.t("advanced tab"),value:"4"})),r.a.createElement(D.a,{value:"0"},r.a.createElement("div",{className:"row"},r.a.createElement("img",{src:this.state.adminTokenQRCode,alt:"QR Code"})),r.a.createElement(O.a,null,r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(L.a,{i18nKey:"download nMobile pro",components:{nMobileProLink:r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.t("nMobileProLink")})}}))),r.a.createElement(S.a,null,r.a.createElement(I.a,null,this.props.t("add device from mobile"))),r.a.createElement(S.a,null,r.a.createElement(I.a,null,this.props.t("connect from mobile"))),r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(L.a,{i18nKey:"mobile guide",components:{guideLink:r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.t("getStartedLink")})}}))))),r.a.createElement(D.a,{value:"1"},r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(L.a,{i18nKey:"add device in mobile first",components:{nMobileProLink:r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.t("nMobileProLink")})}}))),r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(L.a,{i18nKey:"add server from desktop",components:{nConnectClientDesktopLink:r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.t("nConnectClientDesktopLink")})}}))),r.a.createElement(S.a,null,r.a.createElement(I.a,null,this.props.t("scan QR code to add server to desktop"))),r.a.createElement(S.a,null,r.a.createElement(I.a,null,this.props.t("connect from desktop"))),r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(L.a,{i18nKey:"desktop guide",components:{guideLink:r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.t("getStartedLink")})}})))),r.a.createElement(D.a,{value:"2"},r.a.createElement(S.a,null,r.a.createElement(I.a,null,this.props.t("purchase method"))),r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(L.a,{i18nKey:"purchase from mobile",components:{nMobileProLink:r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.t("nMobileProLink")})}}))),r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(L.a,{i18nKey:"purchase from web",components:{paymentLink:r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.t("paymentLink",{addr:$(this.state.addr),lng:this.state.language})})}})))),r.a.createElement(D.a,{value:"3"},r.a.createElement(S.a,null,r.a.createElement(I.a,null,this.props.t("need help method"))),r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(L.a,{i18nKey:"create forum post",components:{forumLink:r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.t("forumLink")})}}))),r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(L.a,{i18nKey:"send email",components:{emailLink:r.a.createElement("a",{href:"mailto:"+this.props.t("emailAddress")}),emailAddress:this.props.t("emailAddress")}}))),r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(L.a,{i18nKey:"mobile customer service",components:{nMobileProLink:r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.t("nMobileProLink")})}})))),r.a.createElement(D.a,{value:"4"},r.a.createElement("div",{className:"advanced-row"},r.a.createElement(T.a,{disabled:!0,multiline:!0,label:this.props.t("local IP address"),value:this.state.localIP.join("\n"),style:{width:"100%"}})),r.a.createElement("div",{className:"advanced-row"},r.a.createElement(T.a,{disabled:!0,multiline:!0,label:this.props.t("access key"),value:this.state.adminTokenStr,style:{width:"100%"}})),r.a.createElement("div",{className:"advanced-row"},r.a.createElement(T.a,{multiline:!0,variant:"filled",label:this.props.t("accept addresses"),value:this.state.acceptAddrs,onChange:this.handleAcceptAddrsChange,style:{width:"100%"}}),r.a.createElement(T.a,{multiline:!0,variant:"filled",label:this.props.t("admins"),value:this.state.adminAddrs,onChange:this.handleAdminAddrsChange,style:{width:"100%"}})),r.a.createElement("div",{className:"advanced-row"},r.a.createElement(j.a,{variant:"contained",color:"primary",onClick:this.handleSubmit,style:{width:"100%"}},this.props.t("save")))))))}}]),t}(r.a.Component);function Y(e){return e?e.join("\n"):""}function Z(e){return e?e.split("\n").filter((function(e){return e.length>0})):[]}function $(e){var n=e.split(".");return n[n.length-1]}var ee=Object(A.a)()(X);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root"))},75:function(e){e.exports=JSON.parse('{"language":"English","mobile tab":"Connect From Mobile","desktop tab":"Connect From Desktop","data plan tab":"Purchase Data Plan","need help tab":"I Need Help","advanced tab":"Advanced","download nMobile pro":"1. Download <nMobileProLink>nMobile Pro</nMobileProLink> and create an account.","add device from mobile":"2. Navigate to nConnect in nMobile Pro and scan the QR code above to add this device.","connect from mobile":"3. Enable the connection to this device and you can use its local IP address to visit this device in any app as if it\'s on the same local network.","mobile guide":"Read <guideLink>this guide</guideLink> if you need more detailed instructions.","add device in mobile first":"1. Add this device in <nMobileProLink>nMobile Pro</nMobileProLink> if you haven\'t done it yet.","add server from desktop":"2. Download <nConnectClientDesktopLink>nConnect client for desktop</nConnectClientDesktopLink>, open add server screen and you will see a QR code.","scan QR code to add server to desktop":"3. Open nMobile Pro and select this device, choose add to nConnect desktop and scan the QR code shown in previous step to add this device.","connect from desktop":"4. Enable the connection to this device and you can use its local IP address to visit this device in any app as if it\'s on the same local network.","desktop guide":"Read <guideLink>this guide</guideLink> if you need more detailed instructions.","purchase method":"There are two ways to purchase data plan, you can choose either one of them:","purchase from mobile":"1. Open <nMobileProLink>nMobile Pro</nMobileProLink>, select this device and purchase data plan.","purchase from web":"2. Or you can purchase data plan from <paymentLink>web payment portal</paymentLink>.","need help method":"If you need help or have any suggestions, you can reach us using one of the following ways:","create forum post":"1. Create a post under the <forumLink>nConnect category in our forum</forumLink>.","send email":"2. Send an email to <emailLink><emailAddress/></emailLink>.","mobile customer service":"3. Open <nMobileProLink>nMobile Pro</nMobileProLink>, select this device and choose customer service.","local IP address":"Local IP address","access key":"Access key (valid for 5 minutes)","accept addresses":"Accept addresses","admins":"Admins","save":"Save","save success":"Save success!","getStartedLink":"https://forum.nkn.org/t/nconnect-user-manual-video-nconnect/2457","nMobileProLink":"https://www.nkn.org/nMobile-pro/","nConnectClientDesktopLink":"https://forum.nkn.org/t/nconnect-pc-download-nconnectpc/2456","paymentLink":"https://nconnect-payment.nkncdn.com/payment/?addr={{addr}}&lng={{lng}}","forumLink":"https://forum.nkn.org/c/applications/nconnect/52","emailAddress":"nconnect@nkn.org"}')},76:function(e){e.exports=JSON.parse('{"language":"\u7b80\u4f53\u4e2d\u6587","mobile tab":"\u79fb\u52a8\u7aef\u8fde\u63a5","desktop tab":"\u684c\u9762\u7aef\u8fde\u63a5","data plan tab":"\u8d2d\u4e70\u6d41\u91cf","need help tab":"\u9700\u8981\u5e2e\u52a9","advanced tab":"\u9ad8\u7ea7","download nMobile pro":"1. \u4e0b\u8f7d <nMobileProLink>nMobile Pro</nMobileProLink> \u5e76\u521b\u5efa\u8d26\u6237\u3002","add device from mobile":"2. \u5728 nMobile Pro \u7684 nConnect \u9875\u9762\u626b\u63cf\u4e0a\u9762\u7684\u4e8c\u7ef4\u7801\u6765\u6dfb\u52a0\u6b64\u8bbe\u5907\u3002","connect from mobile":"3. \u5f00\u542f\u5230\u6b64\u8bbe\u5907\u7684\u8fde\u63a5\u540e\u5c31\u53ef\u4ee5\u5728\u4efb\u4f55\u5e94\u7528\u4e2d\u7528\u6b64\u8bbe\u5907\u7684\u672c\u5730 IP \u5730\u5740\u6765\u8bbf\u95ee\u6b64\u8bbe\u5907\u3002","mobile guide":"\u66f4\u8be6\u5c3d\u7684\u6b65\u9aa4\u8bf7\u53c2\u89c1<guideLink>\u8fd9\u7bc7\u6559\u7a0b</guideLink>\u3002","add device in mobile first":"1. \u5728 <nMobileProLink>nMobile Pro</nMobileProLink> \u4e2d\u6dfb\u52a0\u6b64\u8bbe\u5907\u3002","add server from desktop":"2. \u4e0b\u8f7d <nConnectClientDesktopLink>nConnect \u684c\u9762\u7248\u5ba2\u6237\u7aef</nConnectClientDesktopLink>\uff0c\u9009\u62e9\u6dfb\u52a0\u670d\u52a1\u5668\uff0c\u5c4f\u5e55\u4e0a\u5c06\u4f1a\u663e\u793a\u4e00\u4e2a\u4e8c\u7ef4\u7801\u3002","scan QR code to add server to desktop":"3. \u6253\u5f00 nMobile Pro \u5e76\u9009\u62e9\u6b64\u8bbe\u5907\uff0c\u70b9\u51fb\u5728 nConnect \u684c\u9762\u7248\u4e2d\u6dfb\u52a0\u6b64\u8bbe\u5907\uff0c\u7136\u540e\u626b\u7801\u4e0a\u4e00\u6b65\u4e2d\u51fa\u73b0\u7684\u4e8c\u7ef4\u7801\u6765\u6dfb\u52a0\u8bbe\u5907\u3002","connect from desktop":"4. \u5f00\u542f\u5230\u6b64\u8bbe\u5907\u7684\u8fde\u63a5\u540e\u5c31\u53ef\u4ee5\u5728\u4efb\u4f55\u5e94\u7528\u4e2d\u7528\u6b64\u8bbe\u5907\u7684\u672c\u5730 IP \u5730\u5740\u6765\u8bbf\u95ee\u6b64\u8bbe\u5907\u3002","desktop guide":"\u66f4\u8be6\u5c3d\u7684\u6b65\u9aa4\u8bf7\u53c2\u89c1<guideLink>\u8fd9\u7bc7\u6559\u7a0b</guideLink>\u3002","purchase method":"\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u5747\u53ef\u4ee5\u8d2d\u4e70\u6d41\u91cf\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u5176\u4e2d\u4efb\u4f55\u4e00\u79cd\uff1a","purchase from mobile":"1. \u6253\u5f00 <nMobileProLink>nMobile Pro</nMobileProLink>\uff0c\u9009\u62e9\u6b64\u8bbe\u5907\u5e76\u70b9\u51fb\u8d2d\u4e70\u6d41\u91cf\u3002","purchase from web":"2. \u6216\u8005\u53ef\u4ee5\u5728<paymentLink>\u5728\u7ebf\u652f\u4ed8\u9875\u9762</paymentLink>\u8d2d\u4e70\u6d41\u91cf\u3002","need help method":"\u5982\u679c\u60a8\u6709\u4efb\u4f55\u95ee\u9898\u6216\u5efa\u8bae\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u8054\u7cfb\u6211\u4eec\uff1a","create forum post":"1. \u5728<forumLink>\u8bba\u575b\u7684 nConnect \u677f\u5757</forumLink>\u53d1\u5e16\u3002","send email":"2. \u53d1\u9001\u7535\u5b50\u90ae\u4ef6\u81f3 <emailLink><emailAddress/></emailLink>\u3002","mobile customer service":"3. \u6253\u5f00 <nMobileProLink>nMobile Pro</nMobileProLink>\uff0c\u9009\u62e9\u6b64\u8bbe\u5907\u5e76\u70b9\u51fb\u5ba2\u670d\u3002","local IP address":"\u672c\u5730 IP \u5730\u5740","access key":"\u8bbf\u95ee\u5bc6\u94a5\uff085 \u5206\u949f\u5185\u6709\u6548\uff09","accept addresses":"\u767d\u540d\u5355\u5730\u5740","admins":"\u7ba1\u7406\u5458\u5730\u5740","save":"\u4fdd\u5b58","save success":"\u4fdd\u5b58\u6210\u529f\uff01"}')},98:function(e,n,t){e.exports=t(162)}},[[98,1,2]]]);
//# sourceMappingURL=main.991050b4.chunk.js.map