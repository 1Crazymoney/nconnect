(this["webpackJsonpnkn-socks-web"]=this["webpackJsonpnkn-socks-web"]||[]).push([[0],{114:function(e,t,n){},118:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(7),c=n.n(s),d=(n(69),n(70),n(10)),i=n.n(d),u=n(14),o=n(52),l=n(53),p=n(25),h=n(57),m=n(58),f=n(54),v=n.n(f),A=n(153),b=n(148),k=n(152),g=n(55),w=n.n(g);var y="/rpc/admin",x={getAdminToken:{method:"getAdminToken"},getAddrs:{method:"getAddrs"},setAddrs:{method:"setAddrs"},addAddrs:{method:"addAddrs"},removeAddrs:{method:"removeAddrs"}},O={},j=function(e){x.hasOwnProperty(e)&&(O[e]=function(t,n){return n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0,s=n;a<s.length;a++){var c=s[a];if(c)for(var d=0,i=Object.keys(c);d<i.length;d++){var u=i[d];void 0!==c[u]&&(e[u]=c[u])}}return e}({},x[e].defaultParams,n),function(e,t){return S.apply(this,arguments)}(t,x[e].method,n)})};for(var C in x)j(C);function S(){return(S=Object(u.a)(i.a.mark((function e(t,n){var r,a,s,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},e.next=3,w()({url:t,method:"POST",timeout:1e4,data:{id:"nkn-socks-web",jsonrpc:"2.0",method:n,params:r}});case 3:if(a=e.sent,!(s=a.data).error){e.next=7;break}throw s.error;case 7:if(void 0===s.result){e.next=9;break}return e.abrupt("return",s.result);case 9:throw"rpc response contains no result or error field";case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return T.apply(this,arguments)}function T(){return(T=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.getAdminToken(y));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.getAddrs(y));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},t&&(r.acceptAddrs=t),n&&(r.adminAddrs=n),e.abrupt("return",O.setAddrs(y,r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(114);function Q(e){return e?e.join("\n"):""}function M(e){return e?e.split("\n").filter((function(e){return e.length>0})):[]}var N=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={adminTokenQRCode:null,acceptAddrs:"",adminAddrs:""},r.handleAcceptAddrsChange=r.handleAcceptAddrsChange.bind(Object(p.a)(r)),r.handleAdminAddrsChange=r.handleAdminAddrsChange.bind(Object(p.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(p.a)(r)),r}return Object(l.a)(n,[{key:"handleAcceptAddrsChange",value:function(e){this.setState({acceptAddrs:e.target.value})}},{key:"handleAdminAddrsChange",value:function(e){this.setState({adminAddrs:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,J(M(this.state.acceptAddrs),M(this.state.adminAddrs));case 4:n=e.sent,this.setState({acceptAddrs:Q(n.acceptAddrs),adminAddrs:Q(n.adminAddrs)}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),alert(e.t0),e.abrupt("return");case 13:alert("Save success!");case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;Object(u.a)(i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E();case 3:if(!(n=t.sent)){t.next=9;break}return t.next=7,v.a.toDataURL(JSON.stringify(n));case 7:r=t.sent,e.setState({adminTokenQRCode:r});case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),console.error(t.t0),alert(t.t0),t.abrupt("return");case 16:case"end":return t.stop()}}),t,null,[[0,11]])})))(),Object(u.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R();case 3:n=t.sent,e.setState({acceptAddrs:Q(n.acceptAddrs),adminAddrs:Q(n.adminAddrs)}),t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),console.error(t.t0),alert(t.t0),t.abrupt("return");case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(b.a,null,a.a.createElement("img",{src:this.state.adminTokenQRCode}),a.a.createElement("div",null,a.a.createElement(k.a,{multiline:!0,variant:"filled",label:"Accept addresses",value:this.state.acceptAddrs,onChange:this.handleAcceptAddrsChange,style:{width:"100%"}})),a.a.createElement("div",null,a.a.createElement(k.a,{multiline:!0,variant:"filled",label:"Admin addresses",value:this.state.adminAddrs,onChange:this.handleAdminAddrsChange,style:{width:"100%"}})),a.a.createElement("div",null,a.a.createElement(A.a,{variant:"contained",color:"primary",onClick:this.handleSubmit},"Save"))))}}]),n}(a.a.Component);c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(N,null)),document.getElementById("root"))},64:function(e,t,n){e.exports=n(118)},70:function(e,t,n){}},[[64,1,2]]]);
//# sourceMappingURL=main.16d677d2.chunk.js.map